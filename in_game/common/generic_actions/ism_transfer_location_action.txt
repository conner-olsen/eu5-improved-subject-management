ism_transfer_location_action = {
    type = owncountry
    show_message = no
    show_message_to_target = no
    ai_tick = never
    automation_tick = never

    potential = {  }
    allow = {  }

    select_trigger = {
        looking_for_a = location
        source = actor
        target_flag = target_location
        source_flags = only_actual_locations
        name = "transfer_location_to_subject_select_title"
        none_available_msg_key = "no_valid_locations"

        column = { data = name }
        column = { data = population }

        visible = {
            can_transfer_location = {
                giver = scope:actor
                receiver = scope:recipient
            }
        }

        enabled = {
            custom_tooltip = {
                text = cannot_transfer_capital
                NOT = {
                    scope:actor.capital = this
                }
            }
        }
    }

    effect = {
        ism_transfer_location_effect = {
            giver = scope:actor
            receiver = scope:recipient
            target_location = scope:target_location
        }
        fire_generic_action = {
            type = ism_transfer_location_action
            actor = scope:actor
            recipient = scope:recipient
        }
    }
}