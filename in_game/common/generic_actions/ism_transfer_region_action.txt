ism_transfer_region_action = {
    type = owncountry
    show_message = no
    show_message_to_target = no
    show_in_gui_list = no
    ai_tick = never
    automation_tick = never

    potential = {  }
    allow = {  }

    select_trigger = {
        looking_for_a = region
        interaction_source_list = {
            every_area_with_owned_province = {
                region = {
                    add_to_list = source
                }
            }
        }
        target_flag = recipient
        name = "transfer_region_to_subject_select_title"
        none_available_msg_key = "no_valid_regions"

        column = { data = name }
        column = { data = population }

        visible = {
            can_transfer_region = {
                giver = scope:actor.var:ism_giver_nation
                receiver = scope:actor.var:ism_receiver_nation
            }
        }

        enabled = {
            custom_tooltip = {
                text = cannot_transfer_capital
                ism_allow_transfer_region = yes
            }
        }
    }

    effect = {
        if = {
            limit = {
                exists = scope:recipient
            }
            ism_transfer_region_effect = {
                giver = scope:actor.var:ism_giver_nation
                receiver = scope:actor.var:ism_receiver_nation
                target_region = scope:recipient
            }
            hidden_effect = {
                fire_generic_action = {
                    type = ism_transfer_region_action
                    actor = scope:actor
                }
            }
        }
    }
}